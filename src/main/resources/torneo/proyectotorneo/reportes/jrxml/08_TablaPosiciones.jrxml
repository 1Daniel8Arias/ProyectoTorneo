<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
              http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="tabla_posiciones" pageWidth="595" pageHeight="842"
              columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">

    <queryString>
        <![CDATA[SELECT
            ROWNUM AS POSICION,
            e.NOMBRE AS EQUIPO,
            tp.GANADOS,
            tp.EMPATES,
            tp.PERDIDOS,
            (tp.GANADOS + tp.EMPATES + tp.PERDIDOS) AS PARTIDOS_JUGADOS,
            tp.GOLES_A_FAVOR,
            tp.GOLES_EN_CONTRA,
            tp.DIFERENCIA_GOLES,
            tp.PUNTOS
        FROM TABLA_POSICION tp
        INNER JOIN EQUIPO e ON tp.ID_EQUIPO = e.ID_EQUIPO
        ORDER BY tp.PUNTOS DESC, tp.DIFERENCIA_GOLES DESC, tp.GOLES_A_FAVOR DESC]]>
    </queryString>

    <field name="POSICION" class="java.math.BigDecimal"/>
    <field name="EQUIPO" class="java.lang.String"/>
    <field name="GANADOS" class="java.math.BigDecimal"/>
    <field name="EMPATES" class="java.math.BigDecimal"/>
    <field name="PERDIDOS" class="java.math.BigDecimal"/>
    <field name="PARTIDOS_JUGADOS" class="java.math.BigDecimal"/>
    <field name="GOLES_A_FAVOR" class="java.math.BigDecimal"/>
    <field name="GOLES_EN_CONTRA" class="java.math.BigDecimal"/>
    <field name="DIFERENCIA_GOLES" class="java.math.BigDecimal"/>
    <field name="PUNTOS" class="java.math.BigDecimal"/>

    <title>
        <band height="90">
            <staticText>
                <reportElement x="0" y="10" width="555" height="40"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="26" isBold="true"/>
                </textElement>
                <text><![CDATA[TABLA DE POSICIONES]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="55" width="555" height="25"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="14" isBold="false"/>
                </textElement>
                <text><![CDATA[Temporada 2025]]></text>
            </staticText>
        </band>
    </title>

    <columnHeader>
        <band height="35">
            <staticText>
                <reportElement x="0" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box leftPadding="3">
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[POS]]></text>
            </staticText>
            <staticText>
                <reportElement x="35" y="10" width="150" height="20" backcolor="#4A90E2"/>
                <box leftPadding="3">
                    <pen lineWidth="0.5"/>
                </box>
                <textElement verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[EQUIPO]]></text>
            </staticText>
            <staticText>
                <reportElement x="185" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[PJ]]></text>
            </staticText>
            <staticText>
                <reportElement x="220" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[G]]></text>
            </staticText>
            <staticText>
                <reportElement x="255" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[E]]></text>
            </staticText>
            <staticText>
                <reportElement x="290" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[P]]></text>
            </staticText>
            <staticText>
                <reportElement x="325" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[GF]]></text>
            </staticText>
            <staticText>
                <reportElement x="360" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[GC]]></text>
            </staticText>
            <staticText>
                <reportElement x="395" y="10" width="35" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[DIF]]></text>
            </staticText>
            <staticText>
                <reportElement x="430" y="10" width="40" height="20" backcolor="#4A90E2"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[PTS]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="25">
            <!-- Destacar las primeras 3 posiciones -->
            <rectangle>
                <reportElement x="0" y="0" width="470" height="20" backcolor="#D4EDDA">
                    <printWhenExpression><![CDATA[$F{POSICION}.intValue() <= 3]]></printWhenExpression>
                </reportElement>
                <graphicElement>
                    <pen lineWidth="0.0"/>
                </graphicElement>
            </rectangle>

            <textField>
                <reportElement x="0" y="0" width="35" height="20"/>
                <box leftPadding="3">
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{POSICION}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="35" y="0" width="150" height="20"/>
                <box leftPadding="5">
                    <pen lineWidth="0.5"/>
                </box>
                <textElement verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{EQUIPO}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="185" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{PARTIDOS_JUGADOS}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="220" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{GANADOS}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="255" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{EMPATES}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="290" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{PERDIDOS}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="325" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{GOLES_A_FAVOR}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="360" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{GOLES_EN_CONTRA}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="395" y="0" width="35" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{DIFERENCIA_GOLES}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="430" y="0" width="40" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="11" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{PUNTOS}]]></textFieldExpression>
            </textField>
        </band>
    </detail>

    <pageFooter>
        <band height="50">
            <staticText>
                <reportElement x="0" y="10" width="555" height="30"/>
                <box>
                    <topPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isItalic="true"/>
                </textElement>
                <text><![CDATA[PJ: Partidos Jugados | G: Ganados | E: Empates | P: Perdidos | GF: Goles a Favor | GC: Goles en Contra | DIF: Diferencia de Goles | PTS: Puntos]]></text>
            </staticText>
        </band>
    </pageFooter>
</jasperReport>